## Potential Bugs Identified During Review

1. **`handleInput` without console guard.** The single-player `handleInput` callback in `nba_jam.js` calls `console.inkey` even when running in contexts without an interactive console (tests, headless coordinator). That can throw and crash the game loop.
2. **Missing trail frame degrades UX silently.** `initFrames` creates `trailFrame`, but nothing verifies it remains open. If the frame fails to open (resource exhaustion or headless mode), jump indicators simply no-op and never warn the user.
3. **State queues never created if `playerList` missing.** In `mp_coordinator.init`, queue creation depends on `this.session.playerList`. If the lobby fails to populate that list, the coordinator will still process inputs (possibly from the local player) but will never broadcast state, leaving clients frozen.
4. **shot-clock violation pause stalls multiplayer updates.** Blocking for 1 s inside `runGameFrame` delays `stateUpdateInterval`, so clients might time out or think the coordinator died whenever a shot-clock violation occurs.
5. **Inbound targeting assumes two sprites.** `setupViolationInbound` picks `receiver = teamPlayers[1 - inboundIndex]`. If rosters are temporarily one sprite (debug drills, placeholder data), the receiver equals the inbounder, and the inbound animation tries to pass to itself, leading to perpetual inbound setup.
6. **Prediction thresholds diverge from authority.** `mp_client.js` uses hard-coded 1.5 tiles for collision guards. If the authoritative hitbox changes (`movement-physics.js` currently checks `< 2`), clients may either block legitimate moves or allow overlaps that will be corrected later with a jarring snap.
7. **Scoreboard throttling.** Since scoreboard redraws only happen when the court is marked dirty or when `timeSinceLastUpdate >= COURT_RENDER_THROTTLE_MS`, HUD elements can freeze during quiet frames (e.g., when the ball stalls and nothing invalidates the court). Turbo meters then appear stuck.
8. **Betting hotkey active in all contexts.** With prompts disabled but hotkeys still enabled, it’s easy for single-player users to hit `[B]` accidentally during matchups, which pulls them out of the flow into the betting interface even when the feature is meant to be hidden.
